<template>
  <div id="header">
    <header class="navigation clearfix" id="navigation">
      <ul class="f-l nav clearfix">
        <div class="nav-autolis f-l clearfix" style="height:50px; overflow: hidden;">
          <li>
            <a href="javascript:;">
              <i class="fa fa-camera-retro"></i>
            </a>
          </li>
          <li>
            <a href="javascript:;" onclick="loadContent('/system/Item/toDefault')">项 目</a>
          </li>
          <li>
            <a href="javascript:;" onclick="loadContent('/system/task/toDefault')">任 务</a>
          </li>
          <li>
            <a href="javascript:;" onclick="loadContent('/system/flowformlib/toIndex')">审 批
              <span id="taskCount" class="pos-a f-r  taskCount">6</span>
            </a>
          </li>
          <li>
            <a href="javascript:;" onclick="loadContent('/system/journal/toJournal')">日报 </a>
          </li>
          <li>
            <a href="javascript:;" onclick="loadContent('/system/commAnn/commAnnToDefault')">公告</a>
          </li>
        </div>
        <li class="more" style="color: rgb(102, 102, 102); background: rgb(45, 195, 232);">
          <a href="jacascript:;" style="color: rgb(255, 255, 255);">更多应用</a>
          <div class="more-list" style="width: 570px;color: rgb(102, 102, 102);">
            <div>
              <ul id="masonry" class="pos-r clearfix">
                <li class="pin">
                  <dl>
                    <dt>供应链管理</dt>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(342,4)">
                        <i class="d1"></i>首页</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(120,4)">
                        <i class="d2"></i>供应商审核管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(134,4)">
                        <i class="d3"></i>请购管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(135,4)">
                        <i class="d4"></i>采购计划管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(163,4)">
                        <i class="d5"></i>询价单管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(173,4)">
                        <i class="d6"></i>合同管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(185,4)">
                        <i class="d7"></i>仓库管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(331,4)">
                        <i class="d8"></i>付款管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(347,4)">
                        <i class="d9"></i>招标方案管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(350,4)">
                        <i class="d10"></i>投招标管理</a>
                    </dd>
                  </dl>
                </li>
                <li class="pin">
                  <dl>
                    <dt>供应商管理</dt>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(126,2)">
                        <i class="d1"></i>客户管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(39,2)">
                        <i class="d2"></i>供应商资料</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(45,2)">
                        <i class="d2"></i>报价管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(48,2)">
                        <i class="d3"></i>发货管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(180,2)">
                        <i class="d6"></i>合同管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(356,2)">
                        <i class="d7"></i>招投标管理</a>
                    </dd>
                  </dl>
                </li>
                <li class="pin">
                  <dl>
                    <dt>设备管理</dt>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(171,3)">
                        <i class="d1"></i>设备预览</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(67,3)">
                        <i class="d2"></i>设备管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(116,3)">
                        <i class="d3"></i>设备验收管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(166,3)">
                        <i class="d4"></i>设备维修</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(143,3)">
                        <i class="d5"></i>维保计划</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(144,3)">
                        <i class="d6"></i>用户配置</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(146,3)">
                        <i class="d7"></i>统计分析</a>
                    </dd>
                  </dl>
                </li>
                <li class="pin">
                  <dl>
                    <dt>PLM项目管理</dt>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(324,6)">
                        <i class="d2"></i>客户管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(327,6)">
                        <i class="d3"></i>客户群管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(249,6)">
                        <i class="d4"></i>新需求申请</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(255,6)">
                        <i class="d5"></i>产品管理</a>
                    </dd>
                  </dl>
                </li>

                <li class="pin">
                  <dl>
                    <dt>计量MSA管理</dt>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(337,8)">
                        <i class="d2"></i>校准周期计划</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(335,8)">
                        <i class="d3"></i>计量设备台账</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(336,8)">
                        <i class="d4"></i>校准计划管理</a>
                    </dd>
                  </dl>
                </li>

                <li class="pin">
                  <dl>
                    <dt>基础OA</dt>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(5,1)">
                        <i class="d2"></i>用户管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(26,1)">
                        <i class="d6"></i>公告管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(129,1)">
                        <i class="d8"></i>审批表管理</a>
                    </dd>
                  </dl>
                </li>
                <li class="pin">
                  <dl>
                    <dt>自动发货</dt>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(252,5)">
                        <i class="d2"></i>订单管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(230,5)">
                        <i class="d3"></i>成品入库</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(233,5)">
                        <i class="d4"></i>自动发货</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(310,5)">
                        <i class="d5"></i>库存</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(264,5)">
                        <i class="d5"></i>产量管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(270,5)">
                        <i class="d6"></i>质保书管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(308,5)">
                        <i class="d7"></i>库存统计管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(309,5)">
                        <i class="d8"></i>发货统计管理</a>
                    </dd>
                  </dl>

                </li>

                <li class="pin">
                  <dl>
                    <dt>实验室</dt>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(275,7)">
                        <i class="d2"></i>委托单管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(285,7)">
                        <i class="d3"></i>检验管理</a>
                    </dd>
                    <dd>
                      <a href="javascript:;" onclick="loadAuthrionContent(286,7)">
                        <i class="d4"></i>检验结果管理</a>
                    </dd>
                  </dl>

                </li>
              </ul>
            </div>
          </div>
        </li>
      </ul>
    </header>
  </div>
</template>

<style scoped>
*{
  box-sizing: content-box
}
  div#header{
  width: 100%;
  background: #2dc3e8;
  min-width: 1100px;
  position: fixed;
  z-index: 111;
  top: 0;
  left: 0;
  right: 0;
  }
#navigation {
  height: 50px;
  position: relative;
  z-index: 1002;
  margin-right: 10px;
}

.navigation {
  box-sizing: content-box;
  z-index: 101;
}
.more .more-list {
  width: 510px;
  position: absolute;
  top: 50px;
  border-bottom: 1px solid #ccc;
  box-shadow: 0px 3px 10px #ccc;
  background: #ffffff;
}
.more .more-list li {
  float:left;
  width:170px;
  padding-top:10px;
  padding-bottom:10px;
}
.more .more-list li dl {
  border-bottom: 1px solid #F1F1F1;

}
.more .more-list li dt {
  font-size: 14px;
  color: #666;
  font-weight: 600;
  margin-bottom: 10px;

}
.more .more-list li dd {
  color: #9F95B7;
  margin-bottom: 10px;
  position: relative;
  padding: 0 10px;

}
.more .more-list li dd:hover {
  background: #CCCCCC;
}

.navigation .nav>li,
.navigation .nav .nav-autolis>li {
  float: left;
  position: relative;
}
.nav>li:hover,
.nav .nav-autolis>li:hover {
  background:  #02AED9;
  -moz-transition:all .2s ease-in;
  -webkit-transition:all .2s ease-in;
  -o-transition:all .2s ease-in;
  -ms-transition:all .2s ease-in;
  transition:all .2s ease-in;
}

.navigation .nav>li>a,
.navigation .nav .nav-autolis>li>a{
  display: block;
  padding: 0 10px;
  line-height: 50px;
  height: 50px;
  font-size: 16px;
  color: #fff;
}

.navigation .nav>li>a:hover,
.navigation .nav .nav-autolis>li>a:hover{
text-decoration: none;
}

@media screen and (max-width: 1920px){
.nav-autolis {
    max-width: 890px;
}
}
@media screen and (max-width: 1800px){
.nav-autolis {
    max-width: 780px;
}
}
@media screen and (max-width: 1720px){
.nav-autolis {
    max-width: 670px;
}
}

@media screen and (max-width: 1600px){
.nav-autolis {
    max-width: 560px;
}
}

@media screen and (max-width: 1440px){
.nav-autolis {
    max-width: 450px;
}
}
@media screen and (max-width: 1280px){
.nav-autolis {
    max-width: 340px;
}
}
@media screen and (max-width: 1150px){
.nav-autolis {
    max-width: 230px;    
}
}
  
</style>
<script>
export default {
  data () {
    return {
    };
  },
  mounted () {
    this.waterfall();
    $(".more").mouseenter(function () {
      $(this).css({ background: "#fff", "color": "#666" }).children().css("color", "#666");
      $(this).find('a .Hui-iconfont').addClass('Hui-iconfont-rotate');
      $(".more-list").show();
    }).mouseleave(function () {
      $(this).css({ background: "#2DC3E8" }).children("a").css("color", "#fff")
      $(this).find('a .Hui-iconfont').removeClass('Hui-iconfont-rotate');
      $(".more-list").hide();
    })
  },
  methods: {
    waterfall () {
      console.log('瀑布流布局')
      var $aPin = $("#masonry>.pin");
      var iPinW = $aPin.eq(0).width();// 一个块框pin的宽
      var num = 3;//每行中能容纳的pin个数【窗口宽度除以一个块框宽度】
      //oParent.style.cssText='width:'+iPinW*num+'px;ma rgin:0 auto;';//设置父级居中样式：定宽+自动水平外边距
/*       $("#masonry").css({
        'margin': '0 auto'
      }); */
      var pinHArr = [];//用于存储 每列中的所有块框相加的高度。

      $aPin.each(function (index, value) {
        var pinH = $aPin.eq(index).height();
        if (index < num) {
          pinHArr[index] = pinH; //第一行中的num个块框pin 先添加进数组pinHArr
        } else {
          var minH = Math.min.apply(null, pinHArr);//数组pinHArr中的最小值minH
          var minHIndex = $.inArray(minH, pinHArr);
          $(value).css({
            'position': 'absolute',
            'top': minH,
            'left': $aPin.eq(minHIndex).position().left
          });
          //数组 最小高元素的高 + 添加上的aPin[i]块框高
          pinHArr[minHIndex] += $aPin.eq(index).height();//更新添加了块框后的列高
        }
      });
      var max = (Math.max.apply(null, pinHArr));
      $("#masonry").height(max);
      $(".more-list").hide();
    }
  }
}  
</script>